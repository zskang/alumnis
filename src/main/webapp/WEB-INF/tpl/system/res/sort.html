<div class="modal-body no-p">
	<div class="row">
		<div class="col-xs-12">
			<section class="panel panel-primary no-b">
	            <header class="panel-heading clearfix">
	                <div class="overflow-hidden">
	                    <a href="javascript:;" class="h4 show no-m pt5"><i class="$!res.icon"></i> 菜单排序</a>
	                    <small>上下拖动改变菜单顺序，左右拖动改变菜单级别.</small>
	                </div>
	            </header>
	            <div class="cf nestable-lists p5">
					<div class="dd" id="nestable_sort">
						<ol class="dd-list">
							#foreach($!first in $!firstRes)
							<li class="dd-item" data-id="$!first.id">
								<div class="dd-handle">
									<i class="$!first.icon mr10"></i> $!first.name
								</div>
								#if($!first.hasChildren)
								<ol class="dd-list">
									#foreach($!second in $!secondRes.get($!first.id))
									<li class="dd-item" data-id="$!second.id">
										<div class="dd-handle">
											<i class="$!second.icon mr10"></i> $!second.name
										</div>
										#if($!second.hasChildren)
										<ol class="dd-list">
											#foreach($!third in $!thirdRes.get($!second.id))
											<li class="dd-item" data-id="$!third.id">
												<div class="dd-handle">
													<i class="$!third.icon mr10"></i> $!third.name
												</div>
											</li>
											#end
										</ol>
										#end
									</li>
									#end
								</ol>
								#end
							</li>
							#end
						</ol>
					</div>
				</div>
	        </section>
		</div>
	</div>
</div>
<div class="modal-footer">
	<button id="ok" type="button" class="btn btn-primary" onclick="doSortMenu()" data-loading-text="正在排序...">确 定</button>
	<button type="button" class="btn btn-default" data-dismiss="modal">取 消</button>
</div>
<script type="text/javascript">
	$("#nestable_sort").nestable().nestable("collapseAll");
</script>